@import './elevationStyles.scss';

// -- Dropdown panel styles --
.mat-select-panel-wrap {
    margin: 28px 18px 26px 16px;

    .mat-select-panel {
        @include rvt-elevation-low;
        border: 1px solid var(--rvt-color-dropdown-panel-border);
        border-radius: 0;
        background: var(--rvt-color-neutral-0);

        .mat-option {
            height: 32px;
            font-family: var(--rvt-font-family);
            font-size: var(--rvt-font-size-g);
            font-weight: var(--rvt-font-weight-regular);

            &.mat-selected:not(mat-option-disabled) {
                color: var(--rvt-color-dropdown-panel-text);
                background-color: var(--rvt-color-dropdown-panel-selected);
                transition: background-color 200ms ease;
            }

            &:hover:not(.mat-option-disabled):not(.mat-selected),
            &.mat-active:not(.mat-option-disabled) {
                background-color: var(--rvt-color-dropdown-panel-hover);
                transition: background-color 200ms ease;
            }

            &:first-child {
                margin-top: 8px;
            }
        }
    }
}

mat-form-field.mat-form-field-type-mat-select {
    font-family: var(--rvt-font-family);
    font-size: var(--rvt-font-size-g);
    font-weight: var(--rvt-font-weight-regular);

    * {
        font-family: var(--rvt-font-family);
    }

    .mat-form-field-label-wrapper label.mat-form-field-label {
        font-family: var(--rvt-font-family);
        font-size: var(--rvt-font-size-g);
        font-weight: var(--rvt-font-weight-regular);
        color: var(--rvt-color-dropdown-label);

        &.mat-form-field-empty {
            color: var(--rvt-color-dropdown-text);
        }
    }

    &.mat-focused.mat-primary .mat-select-arrow {
        color: var(--rvt-color-dropdown-arrow);
    }

    &.mat-form-field-disabled {

        label.mat-form-field-label,
        label.mat-form-field-label.mat-form-field-empty {
            color: var(--rvt-color-dropdown-disabled);
        }

        .mat-form-field-underline {
            background: var(--rvt-color-dropdown-disabled);
        }
    }

    .mat-select {

        .mat-select-value,
        .mat-select-value .mat-select-placeholder {
            font-size: 1.6rem;
        }

        &.mat-select-disabled {
            .mat-select-placeholder {
                color: var(--rvt-color-dropdown-disabled);
            }

            .mat-select-arrow-wrapper .mat-select-arrow {
                color: var(--rvt-color-dropdown-disabled);
            }
        }

        .mat-select-arrow-wrapper {
            vertical-align: top;

            .mat-select-arrow {
                margin-right: 8px;
                height: 10px;
                width: 10px;
                border: none;

                &:after {
                    @extend .inner-rivet-icon-caret-down !optional;
                    font-size: 12px;
                }
            }
        }
    }

    .mat-form-field-hint-wrapper mat-hint {
        font-family: var(--rvt-font-family);
        font-size: var(--rvt-font-size-h);
        font-weight: var(--rvt-font-weight-regular);
    }

    .mat-form-field-underline {
        background-color: var(--rvt-color-dropdown-bar);
        transition: background-color 200ms ease;
    }

    &.mat-focused {
        .mat-form-field-label-wrapper label.mat-form-field-label {
            color: var(--rvt-color-dropdown-label);

            &.mat-form-field-empty {
                color: var(--rvt-color-dropdown-label);
            }
        }

        .mat-form-field-underline {
            background-color: var(--rvt-color-dropdown-bar-active);
            height: 2px;
        }
    }

    &:hover:not(.mat-form-field-disabled):not(.high-level) {

        .mat-form-field-underline,
        .mat-form-field-ripple {
            height: 2px;
        }
    }

    &.invalid,
    &.invalid.mat-focused {
        label.mat-form-field-label {
            color: var(--rvt-color-dropdown-invalid);
        }

        .mat-form-field-underline {
            background-color: var(--rvt-color-dropdown-invalid);

            .mat-form-field-ripple {
                background-color: var(--rvt-color-dropdown-invalid);
            }
        }

        .mat-form-field-subscript-wrapper .mat-form-field-hint-wrapper .mat-hint {
            color: var(--rvt-color-dropdown-invalid);
        }
    }

    &.readonly {
        .mat-select.mat-select-disabled {
            &.mat-select-empty {

                .mat-select-placeholder,
                .mat-select-value {
                    visibility: hidden;
                }
            }

            .mat-select-arrow {
                visibility: hidden;
            }
        }

        label.mat-form-field-empty {
            visibility: hidden;
        }

        .mat-form-field-underline {
            background: none;
            background-image: none;
        }
    }

    &.high-level {

        .mat-form-field-underline,
        .mat-form-field-ripple {
            background-color: var(--rvt-color-accent);
            height: 4px;
        }

        .mat-select {
            font-weight: var(--rvt-font-weight-bold);

            .mat-select-value {
                padding-left: 16px;
            }

            .mat-select-arrow {
                color: var(--rvt-color-dropdown-text);
            }
        }

        .mat-form-field-infix {
            border-top: 0;
        }

        &:hover {
            .mat-form-field-infix {
                background-color: var(--rvt-color-dropdown-panel-hover);
            }
        }

        &.mat-focused .mat-form-field-infix {
            background-color: var(--rvt-color-dropdown-panel-hover);
        }
    }
}

.mat-autocomplete-panel {
    box-shadow: none;
    border: 1px solid var(--rvt-color-dropdown-panel-border);
    border-radius: 0;
    background: var(--rvt-color-neutral-white);

    .mat-option {
        height: 32px;

        .mat-option-text {
            font-family: var(--rvt-font-family);
            font-size: var(--rvt-font-size-g);
            font-weight: var(--rvt-font-weight-regular);
        }

        &.mat-selected:not(mat-option-disabled) {
            color: var(--rvt-color-dropdown-panel-text);
            background-color: var(--rvt-color-dropdown-panel-selected);
            transition: background-color 200ms ease;
        }

        &:hover:not(.mat-option-disabled):not(.mat-selected), &.mat-active:not(.mat-option-disabled) {
            background-color: var(--rvt-color-dropdown-panel-hover);
            transition: background-color 200ms ease;
        }

        &:first-child {
            margin-top: 8px;
        }
    }
}
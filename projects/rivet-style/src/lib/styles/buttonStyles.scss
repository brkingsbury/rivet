@import './mixins.scss';
@import './themeVariables.scss';
@import './typeStyles.scss';

:root {
  --rvt-color-btn-disabled: var(--rvt-color-disabled);

  --rvt-color-btn-primary-bg: var(--rvt-color-primary);
  --rvt-color-btn-primary-text: var(--rvt-color-neutral-light);
  --rvt-color-btn-primary-bg-hover: var(--rvt-color-primary-dark);
  --rvt-color-btn-primary-bg-active: var(--rvt-color-neutral-dark);
  --rvt-color-btn-primary-bg-disabled: var(--rvt-color-btn-disabled);
  --rvt-color-btn-primary-text-disabled: var(--rvt-color-text-contrast);

  --rvt-color-btn-secondary-border: var(--rvt-color-primary);
  --rvt-color-btn-secondary-text: var(--rvt-color-primary);
  --rvt-color-btn-secondary-bg: transparent;
  --rvt-color-btn-secondary-bg-hover: var(--rvt-color-primary-alpha-10);
  --rvt-color-btn-secondary-bg-active: var(--rvt-color-primary-alpha-28);
  --rvt-color-btn-secondary-disabled-border: var(--rvt-color-btn-disabled);
  --rvt-color-btn-secondary-disabled-text: var(--rvt-color-btn-disabled);

  --rvt-color-btn-text: var(--rvt-color-text);
  --rvt-color-btn-text-bg: transparent;
  --rvt-color-btn-text-bg-hover: var(--rvt-color-neutral-6-alpha-10);
  --rvt-color-btn-text-bg-active: var(--rvt-color-neutral-6-alpha-28);
  --rvt-color-btn-text-bg-disabled: transparent;
  --rvt-color-btn-text-disabled: var(--rvt-color-btn-disabled);
}

// Styles for all Rivet Buttons
@mixin buttonStyle {
  font-family: $RvtFontFamily;
  font-size: 14px;
  border-radius: 2px;
  background: none;
  border: none;
  padding: 11px 15px;
  cursor: pointer;
  transition: background-color 200ms ease;
  line-height: 14px;
  &:disabled {
    cursor: default;
  }
  &:active,
  &:hover,
  &:focus,
  &:active:hover {
    line-height: 14px;
    outline: none;
  }
}

button {
  &.rvt-btn-primary,
  &.rvt-btn-primary.rvt-btn-icon,
  &.rvt-btn-primary-lg,
  &.rvt-btn-primary-lg.rvt-btn-icon {
    @include buttonStyle;
    font-weight: 600;
    background-color: var(--rvt-color-btn-primary-bg);
    color: var(--rvt-color-btn-primary-text);
    &:hover:not(:disabled),
    &:focus:not(:disabled) {
      background-color: var(--rvt-color-btn-primary-bg-hover);
    }
    &:active:not(:disabled) {
      background-color: var(--rvt-color-btn-primary-bg-active);
    }
    &:disabled:not(.loading) {
      background-color: var(--rvt-color-btn-disabled);
      color: var(--rvt-color-btn-primary-text-disabled);
    }
    span,
    span:before {
      color: var(--rvt-color-btn-primary-text);
    }
  }
  &.rvt-btn-primary-lg {
    padding: 15px;
  }

  &.rvt-btn-secondary {
    @include buttonStyle;
    background: var(--rvt-color-btn-secondary-bg);
    border: 1px solid var(--rvt-color-btn-secondary-border);
    padding: 10px 14px;
    color: var(--rvt-color-btn-secondary-text);
    &:hover:not(:disabled),
    &:focus:not(:disabled),
    &.loading:disabled {
      background: var(--rvt-color-btn-secondary-bg-hover);
    }
    &:active:not(:disabled) {
      background: var(--rvt-color-btn-secondary-bg-active);
    }
    &:disabled:not(.loading) {
      border: 1px dashed var(--rvt-color-btn-secondary-disabled-border);
      color: var(--rvt-color-btn-secondary-disabled-text);
    }
  }

  &.rvt-btn-text,
  &.rvt-btn-icon {
    @include buttonStyle;
    background: var(--rvt-color-btn-text-bg);
    color: var(--rvt-color-btn-text);
    &:hover:not(:disabled),
    &:focus:not(:disabled) {
      background: var(--rvt-color-btn-text-bg-hover);
    }
    &.loading:disabled {
      color: var(--rvt-color-btn-disabled);
      span,
      span:before {
        color: var(--rvt-color-btn-disabled);
      }
    }
    &:active:not(:disabled) {
      background: var(--rvt-color-btn-text-bg-active);
    }
    &:disabled:not(.loading) {
      color: var(--rvt-color-btn-text-disabled);
      span,
      span:before {
        color: var(--rvt-color-btn-text-disabled);
      }
    }
  }
  &.rvt-btn-icon {
    @include buttonStyle;
    [class*='rivet-icon-'] {
      display: inline-block;
      height: 14px;
      width: 14px;
      fill: var(--rvt-color-btn-text);
      vertical-align: top;
    }
    &.loading:disabled {
      padding: 11px;
      line-height: 14px;
      .mat-spinner {
        margin: 0 auto;
      }
    }
    &:disabled:not(.loading) svg {
      fill: var(--rvt-color-btn-disabled);
    }
    span:not([class*='rivet-icon-']) {
      margin-left: 8px;
      vertical-align: middle;
    }
  }
}

.key-focus {
  button[class^='rvt-btn']:not(:active):focus {
    @include keyboard-focus-style;
  }
}

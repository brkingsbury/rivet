<div
  class="rvt-line-expansion"
  [ngClass]="{ expanded: panelExpanded }"
  [ngStyle]="{ 'height.px': panelHeight }"
  (keydown.enter)="$event.preventDefault()"
>
  <div class="rvt-delete-overlay" *ngIf="isDeleting">
    <div class="overlay-content">
      <ng-content select="[rivet-delete-overlay-content]"></ng-content>
      <button class="rvt-btn-primary" (click)="confirmDelete()">{{ overlayDeleteBtnText }}</button>
      <button class="rvt-btn-text" (click)="cancelDelete()">{{ overlayCancelBtnText }}</button>
    </div>
  </div>
  <div class="top-panel">
    <ng-content select="[header-content]"></ng-content>
    <div class="top-button-bar">
      <button
        *ngIf="!hideExpansionContent"
        class="rvt-btn-icon toggle-expansion-btn"
        [ngClass]="panelExpanded ? 'rivet-icon-caret-up' : 'rivet-icon-caret-down'"
        (click)="setExpandedState(!panelExpanded, $event)"
        [disabled]="preventCollapse"
      ></button>
      <ng-content select="[header-button-content]"></ng-content>

      <button *ngIf="showDeleteButton" class="rvt-btn-icon rivet-icon-delete" (click)="delete()"></button>
    </div>
  </div>
  <div class="expansion" [ngStyle]="{ visibility: panelExpanded ? 'visible' : 'hidden' }">
    <ng-content select="[expansion-content]"></ng-content>
    <div class="bottom-button-bar">
      <button *ngIf="showAddButton" class="rvt-btn-primary add-btn" (click)="addButtonClicked()">
        <span class="rivet-icon-add">Add</span>
      </button>
      <button
        class="rvt-btn-secondary close-btn"
        (click)="setExpandedState(false, $event)"
        [disabled]="preventCollapse"
      >
        Close
      </button>
    </div>
  </div>
</div>
